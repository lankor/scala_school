<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Scala School - Pattern matching y Composición funcional</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link rel="stylesheet" href="/scala_school/bootstrap-1.1.0.min.css">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-39101739-7', 'twitter.github.io');
      ga('send', 'pageview');

    </script>
  </head>

  <body>
  
    <div class="topbar">
      <div class="fill">
        <div class="container fixed">
          <h3><a href="index.html">Pattern matching y Composición funcional</a></h3>
          <ul class="nav secondary-nav">
            
              <li><a href="collections.html">&laquo;Previous</a></li>
            
            
              <li><a href="type-basics.html">Next&raquo;</a></li>
            
          </ul>

        </div>
      </div>
    </div>

    <div class="container" style="padding-top: 60px;">
      <p>Está lección cubre los siguientes temas:</p>
<ul>
	<li><a href="#composition">Composición de una función</a>
	<ul>
		<li>compose</li>
		<li>andThen</li>
	</ul></li>
	<li><a href="#curryvspartial">Currying vs Aplicación parcial Partial Application</a></li>
	<li><a href="#PartialFunction">Funciones parciales</a>
	<ul>
		<li>rango y dominio</li>
		<li>composición con orElse</li>
	</ul></li>
	<li><a href="#case">¿Qué son las instrucciones case?</a></li>
</ul>
<h2 id="composition">Composición de una Función</h2>
<p>Vamos a hacer dos funciones llamadas:</p>
<pre>
scala&gt; def f(s: String) = "f(" + s + ")"
f: (String)java.lang.String

scala&gt; def g(s: String) = "g(" + s + ")"
g: (String)java.lang.String
</pre>
<h3>compose</h3>
<p>La función <code>compose</code>  hace que una nueva función sea compuesta a su vez por otras funciones <code>f(g(x))</code></p>
<pre>
scala&gt; val fComposeG = f _ compose g _
fComposeG: (String) =&gt; java.lang.String = &lt;function&gt;

scala&gt; fComposeG("yay")
res0: java.lang.String = f(g(yay))
</pre>
<h3>andThen</h3>
<p>La función <code>andThen</code> es como <code>compose</code>, excepto que llamamos a la primer función y después a la segunda, <code>g(f(x))</code></p>
<pre>
scala&gt; val fAndThenG = f _ andThen g _
fAndThenG: (String) =&gt; java.lang.String = &lt;function&gt;

scala&gt; fAndThenG("yay")
res1: java.lang.String = g(f(yay))
</pre>
<h2 id="curryvspartial">Currying vs Aplicación parcial</h2>
<p>Nota de traducción: <i>Currying es una técnica de programación funcional nombrada en honor al matemático y lógico Haskell Curry. Es por eso que no se intentará hacer ninguna traducción sobre el término Currying. Entiendase este como una acción, técnica base de PF. Como una nota al paso, el lenguaje de programación Haskell debe su nombre a este eximio matemático</i>.<br />
Para mayor información consulte la <a href="http//docs.scala-lang.org/es/tutorials/tour/currying.html">Documentación de Scala</a></p>
<h3>Instrucciones case</h3>
<h4>Entonces ¿Qué son las instrucciones case?</h4>
<p>Es una subclase de una función que llama a <code>PartialFunction</code>.</p>
<h4>¿Que es una colección de múltiples instrucciones case?</h4>
<p>Son <code>PartialFunction</code> múltiples compuestas entre sí.</p>
<h2 id="PartialFunction">Entendiendo a  PartialFunction</h2>
<p>Una función trabaja para cada argumento del tipo definido. En otras palabras,  una función definida como <code>(Int) =&gt; String</code> toma algun entero (Int) y devuelve una cadena (String).</p>
<p>Una Función Parcial esta solo definida para ciertos valores del tipo definido. Una Función Parcial(<code>PartialFunction</code>) <code>(Int) =&gt; String</code> podría no aceptar cualquier entero (Int)</p>
<p>La función <code>isDefinedAt</code> es un método en <code>PartialFunction</code> que puede ser usado para determinar si la <code>PartialFunction</code> aceptará un argumento recibido.</p>
<p><i>Nota:</i> <code>PartialFunction</code> no esta realacionada a una función parcialmente aplicada; de la que hablaremos más adelante.</p>
<p><strong>Véase también</strong> las opiniones de <i>Effective Scala</i> sobre  <a href="http://twitter.github.com/effectivescala/#Functional programming-Partial functions">PartialFunction</a>.</p>
<pre>
scala&gt; val one: PartialFunction[Int, String] = { case 1 =&gt; "one" }
one: PartialFunction[Int,String] = &lt;function1&gt;

scala&gt; one.isDefinedAt(1)
res0: Boolean = true

scala&gt; one.isDefinedAt(2)
res1: Boolean = false
</pre>
<p>Puedes aplicar una función parcial.</p>
<pre>
scala&gt; one(1)
res2: String = one
</pre>
<p>Las Funciones Parciales pueden estar compuestas con algo nuevo, llamado <code>orElse</code>, que refleja si la <code>PartialFunction</code> esta definida sobre el argumento proporcionado.</p>
<pre>
scala&gt; val two: PartialFunction[Int, String] = { case 2 =&gt; "two" }
two: PartialFunction[Int,String] = &lt;function1&gt;

scala&gt; val three: PartialFunction[Int, String] = { case 3 =&gt; "three" }
three: PartialFunction[Int,String] = &lt;function1&gt;

scala&gt; val wildcard: PartialFunction[Int, String] = { case _ =&gt; "something else" }
wildcard: PartialFunction[Int,String] = &lt;function1&gt;

scala&gt; val partial = one orElse two orElse three orElse wildcard
partial: PartialFunction[Int,String] = &lt;function1&gt;

scala&gt; partial(5)
res24: String = something else

scala&gt; partial(3)
res25: String = three

scala&gt; partial(2)
res26: String = two

scala&gt; partial(1)
res27: String = one

scala&gt; partial(0)
res28: String = something else
</pre>
<h3 id="case">El misterio de la sentencia case.</h3>
<p>La semana pasada vimos algo curioso. vimos una declaración de case donde una función es normalmente usada.</p>
<pre>
scala&gt; case class PhoneExt(name: String, ext: Int)
defined class PhoneExt

scala&gt; val extensions = List(PhoneExt("steve", 100), PhoneExt("robey", 200))
extensions: List[PhoneExt] = List(PhoneExt(steve,100), PhoneExt(robey,200))

scala&gt; extensions.filter { case PhoneExt(name, extension) =&gt; extension &lt; 200 }
res0: List[PhoneExt] = List(PhoneExt(steve,100))
</pre>
<p>¿Porque trabaja esto?</p>
<p>La función <code>Filter</code> toma una función. En esta caso una  función predicado de <code>(PhoneExt) =&gt; Boolean</code>.</p>
<p>¡Un <code>PartialFunction</code> es un subtipo de Función de modo que pueda filtrar y tomar un <code>PartialFunction</code>!</p>
    </div> <!-- /container -->

    <div id="footer">
      <div class="inner">
        <div class="container">
          <p>

          Built at <a href="http://twitter.com/twitter"
          target="_blank">@twitter</a> by
          <a href="http://twitter.com/stevej" target="_blank">@stevej</a>,
          <a href="http://twitter.com/marius" target="_blank">@marius</a>, and
          <a href="http://twitter.com/lahosken" target="_blank">@lahosken</a>
          with much help from
          <a href="http://twitter.com/evanm" target="_blank">@evanm</a>,
          <a href="http://twitter.com/sprsquish"
          target="_blank">@sprsquish</a>,
          <a href="http://twitter.com/kevino" target="_blank">@kevino</a>,
          <a href="http://twitter.com/zuercher" target="_blank">@zuercher</a>,
          <a href="http://twitter.com/timtrueman"
          target="_blank">@timtrueman</a>,
          <a href="http://twitter.com/wickman" target="_blank">@wickman</a>,
          and <a href="http://twitter.com/mccv" target="_blank">@mccv</a>;
          Russian translation by
          <a href="https://github.com/appigram">appigram</a>;
          Chinese simple translation by
          <a href="https://github.com/jasonqu">jasonqu</a>;
          Korean translation by
          <a href="https://github.com/enshahar">enshahar</a>;<br />
          <br />

          Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a>.
          </p>
        </div>
      </div>
    </div>

  </body>
</html>
